(()=>{"use strict";var e="";const t=[{name:"Красная поляна",link:e+"assets/card_1.jpeg"},{name:"Ягоды",link:e+"assets/card_2.jpg"},{name:"Розы",link:e+"assets/card_3.jpeg"},{name:"Домашний кот",link:e+"assets/card_4.jpeg"},{name:"Снежный пейзаж",link:e+"assets/card_5.jpeg"},{name:"Пустыня",link:e+"assets/card_6.jpeg"}];function n(e,t,n,r){var o=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0),u=o.querySelector(".card__image"),c=o.querySelector(".card__title"),a=o.querySelector(".card__like-button"),i=o.querySelector(".card__delete-button");return u.src=e.link,u.alt=e.name,c.textContent=e.name,a.addEventListener("click",(function(){return n(a)})),i.addEventListener("click",(function(){return t(o)})),u.addEventListener("click",(function(){return r(e.link,e.name)})),o}function r(e){e.classList.toggle("card__like-button_is-active")}function o(e){e.remove()}function u(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",a)}function c(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",a)}function a(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");t&&c(t)}}function i(e){e.target.classList.contains("popup")&&c(e.target)}function l(e){c(e.target.closest(".popup"))}function s(e,t){e.querySelectorAll(t.inputSelector).forEach((function(e){var n=document.querySelector("#".concat(e.name,"-error"));n&&(n.textContent=""),e.classList.remove(t.inputErrorClass)}));var n=e.querySelector(t.submitButtonSelector);n.disabled=!0,n.classList.add(t.inactiveButtonClass)}var p=document.querySelector(".places__list"),d=document.querySelector(".popup_type_edit"),_=document.querySelector(".popup_type_new-card"),m=document.querySelector(".popup__image"),v=document.querySelector(".popup__caption"),f=document.querySelector(".popup_type_image");function y(e,t){m.src=e,m.alt=t,v.textContent=t,u(f)}!function(e){e.forEach((function(e){var t=n(e,o,r,y);p.appendChild(t)}))}(t);var S=document.querySelector(".profile__edit-button"),q=document.querySelector(".profile__add-button");S.addEventListener("click",(function(){u(d),x.value=k.textContent,h.value=b.textContent,s(g,B)})),q.addEventListener("click",(function(){u(_),C.reset(),s(C,B);var e=C.querySelector(".popup__button");e.disabled=!0,e.classList.add(B.inactiveButtonClass)}));var C=_.querySelector(".popup__form"),L=C.querySelector(".popup__input_type_card-name"),E=C.querySelector(".popup__input_type_url");C.addEventListener("submit",(function(e){e.preventDefault();var t=n({name:L.value,link:E.value},o,r,y);p.prepend(t),c(_),C.reset()}));var k=document.querySelector(".profile__title"),b=document.querySelector(".profile__description"),g=d.querySelector(".popup__form"),x=g.querySelector(".popup__input_type_name"),h=g.querySelector(".popup__input_type_description");g.addEventListener("submit",(function(e){e.preventDefault();var t=x.value,n=h.value;k.textContent=t,b.textContent=n,c(d),g.reset()})),document.querySelectorAll(".popup").forEach((function(e){e.addEventListener("mousedown",i)})),document.querySelectorAll(".popup__close").forEach((function(e){e.addEventListener("click",l)}));var B={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};document.addEventListener("DOMContentLoaded",(function(){var e;e=B,document.querySelectorAll(e.formSelector).forEach((function(t){var n=t.querySelector(e.submitButtonSelector);n.disabled=!0,n.classList.add(e.inactiveButtonClass),t.addEventListener("input",(function(){return function(e,t){var n=Array.from(e.querySelectorAll(t.inputSelector)),r=e.querySelector(t.submitButtonSelector),o=!0;n.forEach((function(e){var n,r;"place-name"===e.name&&(n=/^[A-Za-zА-Яа-яЁё\- ]{2,30}$/,r="Разрешены только латинские, кириллические буквы, знаки дефиса и пробелы"),"link"!==e.name?function(e,t,n,r){var o=document.querySelector("#".concat(e.name,"-error"));if(!e.value.trim())return o.textContent="Вы пропустили это поле.",e.classList.add(r.inputErrorClass),!1;if(e.value.trim().length<2)return o.textContent="Минимальное количество символов: 2. Длина текста сейчас: ".concat(e.value.trim().length," символов"),e.classList.add(r.inputErrorClass),!1;var u="place-name"===e.name?30:200;return e.value.trim().length>u?(o.textContent="Максимальная длина: ".concat(u," символов. Длина текста сейчас: ").concat(e.value.trim().length," символов"),e.classList.add(r.inputErrorClass),!1):t&&!t.test(e.value)?(o.textContent=n||"Некорректный ввод.",e.classList.add(r.inputErrorClass),!1):(o.textContent="",e.classList.remove(r.inputErrorClass),!0)}(e,n,r,t)||(o=!1):function(e,t){var n=document.querySelector("#".concat(e.name,"-error"));return e.value.trim()?/^(https?:\/\/[^\s]+)$/.test(e.value)?(n.textContent="",e.classList.remove(t.inputErrorClass),!0):(n.textContent="Введите адрес сайта",e.classList.add(t.inputErrorClass),!1):(n.textContent="Вы пропустили это поле.",e.classList.add(t.inputErrorClass),!1)}(e,t)||(o=!1)})),r.disabled=!o,r.classList.toggle(t.inactiveButtonClass,!o)}(t,e)}))}));var t=document.querySelector(".popup__form[name='edit-profile']");document.querySelector(".profile__edit-button").addEventListener("click",(function(){s(t,B)}))}))})();